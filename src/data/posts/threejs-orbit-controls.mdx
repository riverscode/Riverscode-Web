---
title: "Controles - Orbit Control en Three.js"
summary: "Aprenderemos usar Orbit control en Three.js para poder interactuar con la escena."
cover: "https://res.cloudinary.com/lambda-ingenier-a-e-innovaci-n/image/upload/v1665983632/blog-Riverscode/Asincronismo-portada_dp7jbz.png"
author: "Rivers Code"
publishedAt: "2022-11-26"
image: "threejs.webp"
tags:
  - "ðŸ’» Three.js "
  - "âš› React.js"
references:
  link: "https://www.youtube.com/watch?v=bMknfKXIFA8"
status: "draft"
---

Los controles son una parte importante de cualquier aplicaciÃ³n en three.js dado que nos permiten interactuar con la escena. En este post aprenderemos a usar Orbit control en Three.js para poder realizar, a partir de un punto de ancla, rotaciones, zooms o mover el plano de la escena.

## Importar OrbitControls

Para poder usar OrbitControls en Three.js debemos importar de la carpeta **three/examples/jsm/controls/OrbitControls** posteriomente dentro de nuestro useEffect debemos instanciar el control y pasarle como parÃ¡metros la cÃ¡mara y el canvas.

```jsx:Sceme.jsx
import React, { useRef, useEffect } from "react";
import * as THREE from "three";
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

const OrbitControls = () => {
  const canvasRef = useRef(null);

  useEffect(() => {

    // ### Instanciar OrbitControls ###
    const controls = new OrbitControls(camera, renderer.domElement);

  }, []);

};
```

Una vez que hemos agregado el control a nuestra escena aun no vamos a poder interactuar con la misma, para poder hacerlo debemos agregar **frames** a nuestro useEffect, especÃ­ficamente al renderer de nuestra scene y para eso crearemos un mÃ©todo animate.

```jsx:Sceme.jsx
import React, { useRef, useEffect } from "react";
import * as THREE from "three";
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

const OrbitControls = () => {
  const canvasRef = useRef(null);

  useEffect(() => {

    // ### Instanciar OrbitControls ###
    const controls = new OrbitControls(camera, renderer.domElement);

    // ### Agregar frames ###
    const animate = () => {
      renderer.render(scene, camera);
      requestAnimationFrame(animate); // Agregar frames
    };

    animate();

  }, []);

};
```

## ConfiguraciÃ³n de OrbitControls

Ahora que ya tenemos OrbitControls en nuestra escena podemos configurarlos para que se adapten a nuestras necesidades. Entre las propiedades mÃ¡s importantes que podemos configurar tenemos:

- [ðŸ’Ž target:](https://threejs.org/docs/#examples/en/controls/OrbitControls.target) Es el punto de ancla alrededor del cual se va a realizar la rotaciÃ³n.
- [ðŸ’Ž enableDamping](https://threejs.org/docs/#examples/en/controls/OrbitControls.enableDamping): Es un booleano que nos permite activar o desactivar el efecto de suavizado de la rotaciÃ³n. Por defecto es false.

> **Nota:** El efecto de suavizado de la rotaciÃ³n es un efecto que se aplica a la rotaciÃ³n para que esta se vea mÃ¡s suave. Para activarlo dentro de nuestro mÃ©todo animate debemos agregar controls.update();

```jsx:Sceme.jsx
import React, { useRef, useEffect } from "react";
import * as THREE from "three";
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

const OrbitControls = () => {
  const canvasRef = useRef(null);

  useEffect(() => {

    // ### Instanciar OrbitControls ###
    const controls = new OrbitControls(camera, renderer.domElement);

    // ### ConfiguraciÃ³n de OrbitControls ###
    control.targe = new THREE.Vector3(0, 3, 0); // Punto de ancla de la rotaciÃ³n
    controls.enableDamping = true; // Activa el efecto de inercia
    controls.dampingFactor = 0.05; // Fuerza del efecto de inercia
    controls.enableZoom = true; // Activa el zoom
    controls.enablePan = true; // Activa el pan
    controls.enableRotate = true; // Activa la rotaciÃ³n
    controls.autoRotate = false; // Activa la rotaciÃ³n automÃ¡tica
    controls.autoRotateSpeed = 0.2; // Velocidad de rotaciÃ³n automÃ¡tica
    controls.minDistance = 1; // Distancia mÃ­nima de zoom
    controls.maxDistance = 5; // Distancia mÃ¡xima de zoom
    controls.minPolarAngle = 0; // Ãngulo mÃ­nimo de rotaciÃ³n
    controls.maxPolarAngle = Math.PI; // Ãngulo mÃ¡ximo de rotaciÃ³n
    controls.minAzimuthAngle = -Infinity; // Ãngulo mÃ­nimo de rotaciÃ³n
    controls.maxAzimuthAngle = Infinity; // Ãngulo mÃ¡ximo de rotaciÃ³n

    // ### Agregar frames ###
    const animate = () => {
      controls.update(); // Actualiza el control
      renderer.render(scene, camera);
      requestAnimationFrame(animate); // Agregar frames
    };

    animate();

  }, []);

};
```



